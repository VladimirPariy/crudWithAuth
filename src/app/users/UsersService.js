import bcrypt from "bcryptjs";import {UsersModel} from "../../DB/models/usersModel.js";class UsersService {  async getAll() {    return UsersModel.query()  }  async getOneById(id) {    return UsersModel.query()      .findById(id)  }  async update(user) {    if (!user._id) throw new Error('No id');    if (user.password) user.password = await bcrypt.hashSync(user.password, 7);    const {_id: userID, ...reqBodyWithoutID} = user    return UsersModel.query()      .patchAndFetchById(userID, ...reqBodyWithoutID)  }  async deleteAll() {    return UsersModel.query()      .delete()  }  async deleteOne(id) {    return UsersModel.query()      .deleteById(id)  }}export default new UsersService();